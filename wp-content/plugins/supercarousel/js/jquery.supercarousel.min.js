/*

 * jQuery Super Carousel Plugin v2.9

 * Copyright (C) 2014 Taraprasad Swain

 * Author URL: http://www.taraprasad.com

 * Plugin URL: http://www.taraprasad.com/supercarousel

*/

!function(e){e.fn.supercarousel=function(i){var t,n,s=this,l=e(this),r=!1,o=0,a=!1,d=1,c=0,f=e.fn.supercarousel,u=f.defaults,p=0,h=0,v={},g={},b=function(){n=e.extend({},u,i),t&&(t.width()<=n.mobileWidth?(n.mobileVisible>0&&(n.visible=n.mobileVisible),n.mobileItemWidth>0&&(n.itemWidth=n.mobileItemWidth),n.mobileItemHeight>0&&(n.itemHeight=n.mobileItemHeight)):t.width()<=n.tabletWidth&&(n.tabletVisible>0&&(n.visible=n.tabletVisible),n.tabletItemWidth>0&&(n.itemWidth=n.tabletItemWidth),n.tabletItemHeight>0&&(n.itemHeight=n.tabletItemHeight)))},w=function(){if(l.wrap('<div class="supercarousel_wrapper"></div>').css({display:"block",visibility:"visible"}),t=l.parent()){var e=l.html();l.prepend(e),l.append(e),p=l.children().length/3,b(),C(),y(),n.onload(l),t.height(800),H(),x(),setTimeout(function(){x()},500)}},y=function(){l.find(">div a").click(function(i){e(i.target).hasClass("superswipe")&&i.preventDefault()})},C=function(){if(t){var e=W(1e5,999999),i=l.find(">div").length/3;l.find(">div:lt("+i+") a.superlight").attr("class","blk superlightx"+e),l.find(">div:gt("+(2*i-1)+") a.superlight").attr("class","blk superlighty"+e),l.find(">div a.superlight").attr("class","blk superlight"+e),t.parent().lightGallery({selector:".superlight"+e}),t.parent().lightGallery({selector:".superlightx"+e}),t.parent().lightGallery({selector:".superlighty"+e}),s.resetSwipe()}},W=function(e,i){return Math.floor(Math.random()*(i-e))+e},x=function(){t&&(b(),z(),L(),A(),P(),S(),B(),j(c),l.stop(!0,!0))},H=function(){""!=n.next&&e(n.next).click(function(e){e.preventDefault(),(d-1>c||n.circular)&&j(c+1)}).css({display:"block"}),""!=n.prev&&e(n.prev).click(function(e){e.preventDefault(),(c>0||n.circular)&&j(c-1)}).css({display:"block"}),n.swipe&&s.resetSwipe(),n.keys&&e("body").keyup(function(e){49==e.keyCode?j(0):50==e.keyCode?j(1):51==e.keyCode?j(2):52==e.keyCode?j(3):53==e.keyCode?j(4):54==e.keyCode?j(5):55==e.keyCode?j(6):56==e.keyCode?j(7):57==e.keyCode?j(8):58==e.keyCode?j(9):37==e.keyCode?j(c-1):39==e.keyCode?j(c+1):38==e.keyCode?j(c-1):40==e.keyCode&&j(c+1)}),n.mouseWheel&&t.bind("mousewheel",function(e,i){t.ismouseover()&&(j(i>0?c-1:c+1),e.preventDefault())})},T=function(e){var i=c,t=-G(i)-e;if(e>0){for(;-G(i)>t&&(!(i>=d)||n.circular);)i++;if(i>=d&&!n.circular)return d-1}else{for(;-G(i)<t&&(!(0>=i)||n.circular);)i--;if(0>=i&&!n.circular)return 0}return i};s.resetSwipe=function(){t.swipe("destroy"),n.swipe&&t.swipe({excludedElements:"button, input, select, textarea, .noSwipe",triggerOnTouchLeave:!0,swipeLeft:function(e,i,t,n,s){},swipeRight:function(e,i,t,n,s){},swipeStatus:function(i,t,s,r){if("move"!=t||"left"!=s&&"right"!=s){if("cancel"==t)l.animate({left:-G(c)}),I(i);else if("end"==t){var o=G(c);l.position().left;if("right"==s){var f=T(-r);j(c>0||n.circular?f:c)}else if("left"==s){var f=T(r);j(d-1>c||n.circular?f:c)}I(i)}}else{var o=G(c),u=G(d-1),p=G(0);"left"==s?-u>-o-r&&!n.circular?l.stop(!0,!0).css("left",-u):l.stop(!0,!0).css("left",-o-r):"right"==s&&(-o+r>-p&&!n.circular?l.stop(!0,!0).css("left",-p):l.stop(!0,!0).css("left",-o+r)),a&&(clearTimeout(a),a=!1),e(i.target).addClass("superswipe")}},allowPageScroll:"vertical",tap:function(e,i){}})};var I=function(i){a=setTimeout(function(){e(i.target).removeClass("superswipe")},500)},$=function(){if(t&&n.autoscroll){n.effect="slide",("up"==n.direction||"down"==n.direction)&&(n.direction="left");var e,i,s=G(0),r=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),o=-1!=navigator.appVersion.indexOf("Win")?!0:!1,a=1;r&&o&&(a=4),"left"==n.direction?(e=-(2*s),i="-="+n.scrollspeed*a+"px"):(e=-s,s=2*s,l.css({left:-s}),i="+="+n.scrollspeed*a+"px"),M(s,i,e)}},M=function(e,i,s){setTimeout(function(){return r||n.pauseOver&&t.ismouseover()?void M(e,i,s):(l.css({left:i}),Math.abs(s)-Math.abs(e)<t.width()&&(e=G(0),"left"==n.direction?s=-(2*e):(s=-e,e=2*e)),"left"==n.direction?l.position().left<s&&l.css({left:-e}):l.position().left>s&&l.css({left:-e}),void M(e,i,s))},n.scrollinterval)},q=function(){t&&n.auto&&!n.autoscroll&&setInterval(function(){r||(n.pauseOver?t.ismouseover()||V():V())},n.pauseTime)},V=function(){"left"==n.direction||"down"==n.direction?j(c+1):("right"==n.direction||"up"==n.direction)&&j(c-1)},S=function(){if(""!=n.paging)for(e(n.paging).html(""),m=0;m<d;m++){var i=e('<a href="#"><span>'+(m+1)+"</span></a>").click(function(i){i.preventDefault(),j(e(this).index())});e(n.paging).append(i)}},j=function(i){if(!r){if(i>=d&&!n.circular)return void j(0);if(0>i&&!n.circular)return void j(d-1);n.onchange(l,c,d),i!=d-1||n.circular||""==n.next?""!=n.next&&e(n.next).hasClass("disabled")&&e(n.next).removeClass("disabled"):e(n.next).addClass("disabled"),0!=i||n.circular||""==n.prev?""!=n.prev&&e(n.prev).hasClass("disabled")&&e(n.prev).removeClass("disabled"):e(n.prev).addClass("disabled"),c=i,"slide"==n.effect?"left"==n.direction||"right"==n.direction?E():("up"==n.direction||"down"==n.direction)&&D():"focus"==n.effect?O():"fade"==n.effect&&Q(),""!=n.paging&&e(n.paging).find(">a:eq("+c+")").length>0&&(e(n.paging).find(">a").removeClass("selected"),e(n.paging).find(">a:eq("+c+")").addClass("selected"))}},G=function(e){var i;if(!t)return 0;if(n.step>0){var s=e*n.step+p;0>s?s=0:s>l.find(">div").length-1&&(s=p),i=l.find(">div:eq("+s+")").position().left}else i=e*t.outerWidth(!1),i+=h;if(!n.circular){var r=-2*h+t.outerWidth(!1);r>-i&&(i=-r)}var r=-2*h,o=-1*h+t.outerWidth(!1);return r>=-i?(i=-r,c=0):-i>=o&&0>c&&(i=-o,c=d-1),i},Q=function(){var e=G(c);r=!0;var i=l.clone().css({position:"absolute",display:"none",zIndex:0,left:-e,top:l.position().top}).appendTo(t);i.fadeIn(n.easingTime,n.easing,function(){l.css({left:-e}),i.remove(),r=!1;var n=-2*h,s=-1*h+t.outerWidth(!1);n>=-e?l.css({left:-e+h}):-e>=s&&l.css({left:-e-h})})},D=function(){var e=G(c);if(r=!0,"up"==n.direction)if(-e<l.position().left)var i=1;else var i=-1;else if("down"==n.direction)if(-e<l.position().left)var i=-1;else var i=1;var s=l.clone().css({position:"absolute",zIndex:0,left:-e,top:l.position().top+t.outerHeight(!0)*i}).appendTo(t);s.stop(!0,!0).animate({top:l.position().top},n.easingTime,n.easing,function(){l.css({left:-e}),s.remove(),r=!1;var i=-2*h,n=-1*h+t.outerWidth(!1);i>=-e?l.css({left:-e+h}):-e>=n&&l.css({left:-e-h})})},O=function(){var e=G(c),i=c*n.step+p;l.find(">div").removeClass("focus"),l.find(">div:eq("+i+")").addClass("focus"),l.find(">div:eq("+(i+p)+")").addClass("focus"),l.find(">div:eq("+(i-p)+")").addClass("focus");var s=l.find(">div:eq("+i+")").width()/2-t.width()/2;e+=s,r=!0,l.stop(!0,!0).animate({left:-e},n.easingTime,n.easing,function(){r=!1;var i=-2*h-s,n=-1*h-s+t.outerWidth(!1);i>=-e?l.css({left:-e+h}):-e>=n&&l.css({left:-e-h})}),B()},E=function(){var e=G(c);r=!0,l.stop(!0,!0).animate({left:-e},n.easingTime,n.easing,function(){r=!1;var i=-2*h,n=-1*h+t.outerWidth(!1);i>=-e?l.css({left:-e+h}):-e>=n&&l.css({left:-e-h})}),B()},z=function(){n.step>p&&(n.step=p),n.visible&&(n.step>n.visible||0==n.step)&&(n.step=n.visible)},L=function(){n.visible?(v={width:_(),height:"auto"},g={width:"100%",height:"auto"}):""!=n.itemWidth?(v={width:n.itemWidth,height:"auto"},g={width:"100%",height:"auto"}):""!=n.itemHeight&&(v={width:"auto",height:n.itemHeight},g={width:"auto",height:"100%"}),l.find(">div").css(v),R()},P=function(){if($t=l.find(">div:last"),h=($t.position().left+$t.outerWidth(!1))/3,!t)return 0;if(n.step>0){if(n.visible&&1==n.visible)return void(d=p);if(n.visible&&n.visible>1)return d=(p-(n.visible-n.step))/n.step,void(1>d&&(d=1));d=1;for(var e=-1*G(d-1),i=-2*h+t.outerWidth(!1);e>i;)d++,e=-1*G(d-1);return;var e,i}else d=Math.ceil(h/t.outerWidth(!1))},A=function(){l.find(">div").each(function(){$ele=e(this),""!=n.itemHeight&&"image"==n.type&&$ele.width($ele.find(".imgslide").width()),$ele.prev().length?$ele.css({left:$ele.prev().position().left+$ele.prev().outerWidth(!1)+n.slideGap}):$ele.css({left:0})})},B=function(){if(n.autoHeight&&n.step>0){var e,i=c*n.step+p;if(n.visible)e=l.find(">div").slice(i,i+n.visible).superMaxHeightElement().height();else if(n.itemWidth){var s=Math.ceil(t.width()/n.itemWidth);e=l.find(">div").slice(i,i+s).superMaxHeightElement().height()}else e=l.find(">div:eq("+i+")").height();return void t.stop(!0,!0).animate({height:e},700,"swing",function(){})}var r=0;for(k=p;k<2*p;k++)i=l.children(":eq("+k+")"),i.height()>r&&(r=i.height());t&&t.height(r)},R=function(){"image"==n.type&&l.find("img").css(g)},_=function(){return t?Math.ceil((t.width()-(n.visible-1)*n.slideGap)/n.visible):0},F=function(){setTimeout(function(){x()},500)},J=function(){setInterval(function(){t.parent().is(":visible")?1==o&&(F(),o=0):o=1},500)},K=function(){n.superhidden&&J()};return e(window).resize(function(){x()}),l.find("img").length?l.imagesLoaded(function(){w(),q(),$(),K()}):(w(),q(),$(),K()),s};var i=e.fn.supercarousel;i.defaults={direction:"left",effect:"slide",itemWidth:"",itemHeight:"",slideGap:5,mobileVisible:1,tabletVisible:2,mobileWidth:480,tabletWidth:768,step:1,type:"content",auto:!1,autoscroll:!1,scrollspeed:1,scrollinterval:10,autoHeight:!1,easing:"swing",easingTime:700,pauseTime:1e3,pauseOver:!0,next:"",prev:"",paging:"",circular:!1,mouseWheel:!1,swipe:!1,keys:!1,superhidden:!1,onchange:function(e,i,t){},onload:function(e){}}}(jQuery),jQuery.fn.superMaxHeightElement=function(){var e=null,i=0;return this.each(function(){var t=jQuery(this).height();t>i&&(i=t,e=jQuery(this))}),e},jQuery.expr[":"].hiddenByParent=function(e){return jQuery(e).parents("*:not(:visible)").length};